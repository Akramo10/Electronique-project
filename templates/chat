<!-- Store this code in 'chat.html' file inside the 'templates' folder -->

<html>
    <head>
        <meta charset="UTF-8">
        <title>Chat</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    </head>
    <body>
        <h1>Welcome to the Chat</h1>
        <p>Online Students:</p>
        <ul>
            {% for student in online_students %}
                <li><a href="{{ url_for('get_messages', receiver_id=student['id']) }}">{{ student['username'] }}</a></li>
            {% endfor %}
        </ul>
        <h2>Send a Message</h2>
        <form action="{{ url_for('send_message') }}" method="post">
            <label for="receiver_id">Select a student:</label>
            <select name="receiver_id" id="receiver_id">
                {% for student in online_students %}
                    <option value="{{ student['id'] }}">{{ student['username'] }}</option>
                {% endfor %}
            </select>
            <br>
            <label for="message">Message:</label>
            <textarea name="message" id="message" rows="4" cols="50"></textarea>
            <br>
            <input type="submit" value="Send">
        </form>
        <br>
        <p><a href="{{ url_for('logout') }}">Logout</a></p>
    </body>
</html>
